(define-namespace 'test (sig-keyset) (sig-keyset))
(env-data { 'ns: 'test })

(load "../src/lib.repl")

(env-gasmodel "table")
(env-gaslimit 150000)
(env-gas 0)

(expect "poseidon" 12717992376338182279477285556390228582603857817939167998284243525425604090033 (poseidon [1 2]))

(print {"Total gas": (env-gas)})
(env-gas 0)

(expect "poseidon" 1069652563792426660145833190237336045845917811967528486535167837537743676741 (poseidon [999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999 88888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888]))

(print {"Total gas": (env-gas)})